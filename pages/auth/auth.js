Polymer("auth-dialog",{loginModel:{},registerModel:{},selected:0,ready:function(){if(this.$.repo.session()){window.location="/"}this.loginModel=this.$.maUtils.clone(this.$.repo.authModel);this.registerModel=this.$.maUtils.clone(this.$.repo.authModel)},login:function(){this.$.toastError.dismiss();this.async(function(){this.$.repo.login(this.loginCallback,this.loginModel,this)},null,200)},loginCallback:function(user,errors,self){if(user){window.location="/"}else{var errorVals=[];errors.forEach(function(err){errorVals.push(err.error)});self.$.toastError.text=errorVals.join(", ");self.$.toastError.show()}},registerUser:function(){this.$.toastError.dismiss();this.async(function(){this.$.repo.register(this.registerUserCallback,this.registerModel,this)},null,200)},registerUserCallback:function(user,errors,self){if(user){window.location="/"}else{var errorVals=[];errors.forEach(function(err){errorVals.push(err.error)});self.$.toastError.text=errorVals.join(", ");self.$.toastError.show()}}});